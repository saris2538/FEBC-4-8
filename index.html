<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>Hello</h1>
    <!-- <button onclick="addTodo()">เพิ่ม todo</button> -->
     <input type="text" id="todo">
    <button id="submitButton">เพิ่ม todo</button>
    <!-- <div id="result"></div> -->
    <ul id="result"></ul>
    console.log("This is from git.")
    <script>
        let submitButton = document.getElementById("submitButton")
        submitButton.addEventListener("click",addTodo)
        function addTodo(){
            let todoElement = document.getElementById("todo")
            let todo = todoElement.value
            // let p = document.createElement("p")
            // p.innerHTML = todo
            // let resultElement = document.getElementById("result")
            // resultElement.appendChild(p)

            let resultElement = document.getElementById("result")
            resultElement.innerHTML += `<li>${todo}</li>`
        }

    //     fetch('https://jsonplaceholder.typicode.com/todos')
    //   .then(response => response.json()) //console.log(response) gives sth can't be used further --> convert to json format first
    //   .then(json => {
    //         // console.log(json) 
    //         for(let i=0;i<json.length;i++){
    //             let resultElement = document.getElementById("result")
    //             resultElement.innerHTML += `<li>${json[i].title}</li>`
    //         }
    //   })

      async function getData(){ //wait for previous line to finish then execute next line
        const response = await fetch('https://jsonplaceholder.typicode.com/todos')
        const json = await response.json()
        //console.log(json)
        for(let i=0;i<json.length;i++){
            let resultElement = document.getElementById("result")
            resultElement.innerHTML += `<li>${json[i].title}</li>`
        }
      }
      getData()
    </script>

</body>
</html>
